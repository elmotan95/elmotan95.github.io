---
layout: default
title: Ad & Tracker Detection
---

<style>
  :root {
    --bg-primary: #0d1117;
    --bg-secondary: #161b22;
    --bg-tertiary: #21262d;
    --border-color: rgba(255, 255, 255, 0.1);
    --text-primary: #c9d1d9;
    --text-secondary: #8b949e;
    --link-color: #58a6ff;
    --success-color: #238636;
    --error-color: #da3633;
  }

  .tools-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
  }

  .intro {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
    box-sizing: border-box;
  }

  .intro h1 {
    font-size: 1.8rem;
    margin: 0 0 16px 0;
    color: var(--text-primary);
  }

  .intro p {
    margin: 0;
    color: var(--text-secondary);
    line-height: 1.5;
  }

  .start-button {
    display: block;
    width: 100%;
    padding: 16px;
    background-color: var(--success-color);
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-size: 1.2rem;
    text-decoration: none;
    margin-bottom: 20px;
    text-align: center;
    transition: background-color 0.2s ease;
    box-sizing: border-box;
  }

  .start-button:hover {
    background-color: #2ea043;
  }

  .system-info {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
    box-sizing: border-box;
  }

  .system-info-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
  }

  .info-card {
    background-color: var(--bg-tertiary);
    border-radius: 8px;
    padding: 16px;
  }

  .info-title {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin: 0 0 8px 0;
  }

  .info-value {
    font-size: 1rem;
    color: var(--text-primary);
    margin: 0;
    word-break: break-word;
  }

  .summary {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
    box-sizing: border-box;
  }

  .summary-title {
    font-size: 2rem;
    margin: 0 0 24px 0;
    color: var(--text-primary);
  }

  .summary-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    margin-bottom: 24px;
  }

  .stat-item {
    text-align: left;
  }

  .stat-value {
    font-size: 3.5rem;
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--text-primary);
    line-height: 1;
  }

  .stat-label {
    color: var(--text-secondary);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .progress-container {
    background-color: var(--bg-tertiary);
    border-radius: 4px;
    height: 4px;
    overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    background-color: var(--success-color);
    transition: width 0.3s ease;
  }

  .test-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    box-sizing: border-box;
  }

  .test-card {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 24px;
    box-sizing: border-box;
  }

  .test-title {
    font-size: 1.2rem;
    margin: 0 0 16px 0;
    color: var(--link-color);
  }

  .test-description {
    margin: 0 0 16px 0;
    font-size: 0.95rem;
    color: var(--text-secondary);
    line-height: 1.5;
  }

  .test-domains {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .test-domain-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: var(--bg-tertiary);
    border-radius: 6px;
    padding: 8px 12px;
  }

  .domain-url {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.9rem;
    color: var(--text-secondary);
  }

  .domain-status {
    font-size: 0.85rem;
    padding: 4px 12px;
    border-radius: 12px;
    background-color: var(--bg-tertiary);
    color: var(--text-secondary);
  }

  .status-blocked {
    background-color: var(--success-color);
    color: white;
  }

  .status-failed {
    background-color: var(--error-color);
    color: white;
  }

  @media (max-width: 768px) {
    .system-info-grid,
    .test-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<div class="tools-container">
  <div class="intro">
    <h1>Ad & Tracker Detection Tool</h1>
    <p>This tool helps you check if your ad blocker is effectively blocking common advertising networks, analytics services, and tracking pixels. It tests the accessibility of various tracking domains to determine if they're being blocked by your browser's privacy tools.</p>
  </div>

  <button class="start-button" onclick="startTest()">Start Test</button>

  <div class="system-info">
    <div class="system-info-grid">
      <div class="info-card">
        <h3 class="info-title">Browser</h3>
        <p class="info-value" id="browser-info">Loading...</p>
      </div>
      <div class="info-card">
        <h3 class="info-title">Operating System</h3>
        <p class="info-value" id="os-info">Loading...</p>
      </div>
      <div class="info-card">
        <h3 class="info-title">Your IP</h3>
        <p class="info-value" id="ip-info">Loading...</p>
      </div>
      <div class="info-card">
        <h3 class="info-title">HTTP DNS</h3>
        <p class="info-value" id="dns-info">Loading...</p>
      </div>
      <div class="info-card">
        <h3 class="info-title">HTTP TLS</h3>
        <p class="info-value" id="tls-info">Loading...</p>
      </div>
      <div class="info-card">
        <h3 class="info-title">User Agent</h3>
        <p class="info-value" id="useragent-info">Loading...</p>
      </div>
    </div>
  </div>

  <div class="summary">
    <h2 class="summary-title">Summary</h2>
    <div class="summary-stats">
      <div class="stat-item">
        <div class="stat-value" id="total-count">0</div>
        <div class="stat-label">Total Tests</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="blocked-count">0</div>
        <div class="stat-label">Blocked</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="percentage">0%</div>
        <div class="stat-label">Protection</div>
      </div>
    </div>
    <div class="progress-container">
      <div class="progress-bar" style="width: 0%"></div>
    </div>
  </div>

  <div id="test-results" class="test-grid"></div>
</div>

<script>
const adTrackers = {
  'Advertising': {
    'Google Ads': {
      'domains': ['pagead2.googlesyndication.com', 'adservice.google.com', 'googleadservices.com'],
      'blocked': false,
      'description': 'Google\'s advertising platform that delivers ads across millions of websites and apps.'
    },
    'Media.net': {
      'domains': ['media.net', 'static.media.net'],
      'blocked': false,
      'description': 'Contextual advertising network providing targeted ads based on website content.'
    },
    'Doubleclick': {
      'domains': ['doubleclick.net', 'ad.doubleclick.net'],
      'blocked': false,
      'description': 'Google\'s ad management platform for advertisers and publishers.'
    },
    'Amazon Ads': {
      'domains': ['amazon-adsystem.com', 'adtago.s3.amazonaws.com'],
      'blocked': false,
      'description': 'Amazon\'s advertising platform for product and display ads.'
    },
    'Taboola': {
      'domains': ['cdn.taboola.com', 'trc.taboola.com'],
      'blocked': false,
      'description': 'Content recommendation and native advertising platform.'
    }
  },
  'Analytics': {
    'Google Analytics': {
      'domains': ['google-analytics.com', 'analytics.google.com'],
      'blocked': false,
      'description': 'Web analytics service that tracks and reports website traffic.'
    },
    'Hotjar': {
      'domains': ['hotjar.com', 'static.hotjar.com'],
      'blocked': false,
      'description': 'Behavior analytics tool that visualizes user behavior through heatmaps.'
    },
    'Mixpanel': {
      'domains': ['mixpanel.com', 'api.mixpanel.com'],
      'blocked': false,
      'description': 'Product analytics tool that tracks user interactions.'
    },
    'Segment': {
      'domains': ['segment.com', 'cdn.segment.com'],
      'blocked': false,
      'description': 'Customer data platform for collecting analytics data.'
    },
    'Amplitude': {
      'domains': ['amplitude.com', 'api.amplitude.com'],
      'blocked': false,
      'description': 'Product analytics platform for tracking user behavior.'
    }
  },
  'Trackers': {
    'Facebook Pixel': {
      'domains': ['facebook.com/tr/', 'connect.facebook.net'],
      'blocked': false,
      'description': 'Analytics tool that measures advertising effectiveness.'
    },
    'Twitter Pixel': {
      'domains': ['static.ads-twitter.com', 'analytics.twitter.com'],
      'blocked': false,
      'description': 'Tracking pixel for monitoring website conversions.'
    },
    'LinkedIn Pixel': {
      'domains': ['linkedin.com/px', 'ads.linkedin.com'],
      'blocked': false,
      'description': 'Conversion tracking tool for LinkedIn campaigns.'
    },
    'TikTok Pixel': {
      'domains': ['analytics.tiktok.com', 'business-api.tiktok.com'],
      'blocked': false,
      'description': 'Analytics and tracking for TikTok advertising.'
    }
  },
  'Other Trackers': {
    'Criteo': {
      'domains': ['criteo.com', 'static.criteo.net'],
      'blocked': false,
      'description': 'Retargeting and display advertising platform.'
    },
    'AdRoll': {
      'domains': ['adroll.com', 'app.adroll.com'],
      'blocked': false,
      'description': 'Retargeting and marketing platform.'
    },
    'Outbrain': {
      'domains': ['outbrain.com', 'widgets.outbrain.com'],
      'blocked': false,
      'description': 'Content discovery and native advertising platform.'
    },
    'Quantcast': {
      'domains': ['quantserve.com', 'pixel.quantserve.com'],
      'blocked': false,
      'description': 'Audience measurement and targeting platform.'
    }
  }
};

function createTestElement(category, name, data) {
  const div = document.createElement('div');
  div.className = 'test-card';
  
  let domainsHtml = '';
  data.domains.forEach(domain => {
    domainsHtml += `
      <div class="test-domain-item">
        <span class="domain-url">${domain}</span>
        <span class="domain-status status-waiting" id="status-${category}-${name}-${domain}">Waiting...</span>
      </div>
    `;
  });

  div.innerHTML = `
    <div class="test-header">
      <h3 class="test-title">${category} - ${name}</h3>
    </div>
    <div class="test-description">${data.description}</div>
    <div class="test-domains">${domainsHtml}</div>
  `;
  return div;
}

function updateStats() {
  let total = 0;
  let blocked = 0;

  Object.keys(adTrackers).forEach(category => {
    Object.keys(adTrackers[category]).forEach(tracker => {
      total++;
      if (adTrackers[category][tracker].blocked) {
        blocked++;
      }
    });
  });

  const percentage = Math.round((blocked / total) * 100);

  document.getElementById('total-count').textContent = total;
  document.getElementById('blocked-count').textContent = blocked;
  document.getElementById('percentage').textContent = `${percentage}%`;
  document.querySelector('.progress-bar').style.width = `${percentage}%`;
}

async function testDomain(domain) {
  try {
    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), 5000);

    const response = await fetch(`https://${domain}/favicon.ico`, {
      mode: 'no-cors',
      signal: controller.signal
    });
    
    clearTimeout(timeoutId);
    return false; // Domain is accessible (not blocked)
  } catch (error) {
    return true; // Domain is blocked
  }
}

async function startTest() {
  // Run tests
  for (const category of Object.keys(adTrackers)) {
    for (const [tracker, data] of Object.entries(adTrackers[category])) {
      for (const domain of data.domains) {
        const statusElement = document.getElementById(`status-${category}-${tracker}-${domain}`);
        statusElement.className = 'domain-status status-loading';
        statusElement.textContent = 'Testing...';
        
        try {
          const isBlocked = await testDomain(domain);
          statusElement.className = `domain-status status-${isBlocked ? 'blocked' : 'failed'}`;
          statusElement.textContent = isBlocked ? 'Blocked' : 'Not Blocked';
          
          // Update tracker blocked status if all domains are blocked
          const allResults = await Promise.all(data.domains.map(testDomain));
          adTrackers[category][tracker].blocked = allResults.every(result => result);
        } catch (error) {
          statusElement.className = 'domain-status status-failed';
          statusElement.textContent = 'Error';
        }
        
        updateStats();
      }
    }
  }
}

// Initialize the list and stats
const resultsContainer = document.getElementById('test-results');
Object.keys(adTrackers).forEach(category => {
  Object.entries(adTrackers[category]).forEach(([tracker, data]) => {
    resultsContainer.appendChild(createTestElement(category, tracker, data));
  });
});
updateStats();

// System Information Detection
function detectBrowser() {
  const ua = navigator.userAgent;
  let browser = "Unknown";
  let version = "";

  if (ua.includes("Firefox/")) {
    browser = "Firefox";
    version = ua.split("Firefox/")[1];
  } else if (ua.includes("Chrome/")) {
    if (ua.includes("Edg/")) {
      browser = "Edge";
      version = ua.split("Edg/")[1];
    } else if (ua.includes("OPR/")) {
      browser = "Opera";
      version = ua.split("OPR/")[1];
    } else {
      browser = "Chrome";
      version = ua.split("Chrome/")[1].split(" ")[0];
    }
  } else if (ua.includes("Safari/") && !ua.includes("Chrome")) {
    browser = "Safari";
    version = ua.split("Version/")[1].split(" ")[0];
  }

  return `${browser} ${version.split(".")[0]}`;
}

function detectOS() {
  const ua = navigator.userAgent;
  let os = "Unknown";

  if (ua.includes("Win")) os = "Windows";
  else if (ua.includes("Mac")) os = "macOS";
  else if (ua.includes("Linux")) os = "Linux";
  else if (ua.includes("Android")) os = "Android";
  else if (ua.includes("iOS")) os = "iOS";

  return os;
}

async function getIPInfo() {
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    return data.ip;
  } catch (error) {
    return 'Not available';
  }
}

async function checkDNSOverHTTPS() {
  try {
    const response = await fetch('https://cloudflare-dns.com/dns-query?name=example.com', {
      headers: {
        'accept': 'application/dns-json'
      }
    });
    return response.ok ? 'Available' : 'Not available';
  } catch (error) {
    return 'Not available';
  }
}

async function checkTLS() {
  try {
    const response = await fetch('https://cloudflare-dns.com/cdn-cgi/trace');
    const data = await response.text();
    const tlsVersion = data.split('\n').find(line => line.startsWith('tls='));
    return tlsVersion ? tlsVersion.split('=')[1] : 'Not available';
  } catch (error) {
    return 'Not available';
  }
}

// Update system information
async function updateSystemInfo() {
  document.getElementById('browser-info').textContent = detectBrowser();
  document.getElementById('os-info').textContent = detectOS();
  document.getElementById('useragent-info').textContent = navigator.userAgent;
  
  // Update IP and connection info
  document.getElementById('ip-info').textContent = await getIPInfo();
  document.getElementById('dns-info').textContent = await checkDNSOverHTTPS();
  document.getElementById('tls-info').textContent = await checkTLS();
}

// Call updateSystemInfo when the page loads
updateSystemInfo();
</script> 